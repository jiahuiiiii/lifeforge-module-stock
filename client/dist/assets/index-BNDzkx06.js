import{importShared as b}from"./__federation_fn_import-E6wRZccp.js";import{j as e}from"./jsx-runtime-u17CrQMm.js";import{I as c}from"./iconify-CHsp7AQ2.js";import{u as i,g as N,C as y,a as x,b as o,c as w}from"./store-Cu4D6-5t.js";const{Button:m,Card:h,ConfirmationModal:j,ModuleHeader:u,useModalStore:C}=await b("lifeforge-ui"),{useState:S}=await b("react");function $(){const[n,r]=S("analyses"),t=i(s=>s.logs),a=i(s=>s.calculatorLogs),p=i(s=>s.deleteLog),f=i(s=>s.deleteCalculatorLog),{open:d}=C();return t.length===0&&a.length===0?e.jsxs("div",{className:"flex h-full animate-[fadeSlideIn_0.3s_ease-out] flex-col",children:[e.jsx(u,{title:"Analysis Logbook"}),e.jsxs("div",{className:"flex-center flex-1 flex-col gap-4",children:[e.jsx(c,{className:"text-bg-300 dark:text-bg-600 size-20",icon:"tabler:notebook"}),e.jsx("p",{className:"text-bg-500",children:"No saved logs yet. Complete an analysis or use a calculator to save results here."})]})]}):e.jsxs("div",{className:"animate-[fadeSlideIn_0.3s_ease-out]",children:[e.jsx(u,{title:"Analysis Logbook"}),e.jsxs("div",{className:"border-bg-200 dark:border-bg-700 mb-4 flex gap-1 border-b",children:[e.jsxs("button",{className:`px-4 py-2 text-sm font-medium transition-colors ${n==="analyses"?"border-custom-500 text-custom-500 border-b-2":"text-bg-500 hover:text-bg-700"}`,type:"button",onClick:()=>r("analyses"),children:["Stock Analyses (",t.length,")"]}),e.jsxs("button",{className:`px-4 py-2 text-sm font-medium transition-colors ${n==="calculators"?"border-custom-500 text-custom-500 border-b-2":"text-bg-500 hover:text-bg-700"}`,type:"button",onClick:()=>r("calculators"),children:["Calculations (",a.length,")"]})]}),n==="analyses"&&e.jsx("div",{className:"space-y-4",children:t.length===0?e.jsx("div",{className:"text-bg-500 py-8 text-center",children:"No stock analyses saved yet."}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-bg-500",children:["You have ",t.length," saved analysis",t.length!==1?"es":"","."]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map(s=>{const l=N(s.gdpScore,s.prcScore),g=y.find(v=>v.value===s.cashFlowOption)?.label??s.cashFlowOption;return e.jsxs(h,{className:"flex flex-col",children:[e.jsxs("div",{className:"mb-3 flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold",children:s.ticker}),s.companyName&&e.jsx("div",{className:"text-bg-500 text-sm",children:s.companyName}),e.jsx("div",{className:"text-bg-500 mt-1 text-xs",children:new Date(s.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{className:`flex items-center gap-1 rounded-lg border px-3 py-1 text-sm font-bold ${x(l)} ${o(l)}`,children:[l,e.jsxs("span",{className:"text-bg-500 text-xs font-normal",children:["(",s.totalScore,")"]})]})]}),e.jsxs("div",{className:"mb-4 flex-1 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[e.jsxs("div",{className:`rounded-lg p-2 ${s.gdpScore>=50?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:[e.jsx("div",{className:"text-xs font-medium",children:"GDP"}),e.jsx("div",{className:"font-bold",children:s.gdpScore})]}),e.jsxs("div",{className:`rounded-lg p-2 ${s.prcScore>=50?"bg-green-500/10 text-green-500":"bg-red-500/10 text-red-500"}`,children:[e.jsx("div",{className:"text-xs font-medium",children:"PRC"}),e.jsx("div",{className:"font-bold",children:s.prcScore})]}),e.jsxs("div",{className:"bg-bg-100 dark:bg-bg-800 rounded-lg p-2",children:[e.jsx("div",{className:"text-bg-500 text-xs",children:"Total"}),e.jsx("div",{className:"font-bold",children:s.totalScore})]})]}),e.jsxs("div",{className:"text-bg-500 space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"CAGR"}),e.jsxs("span",{children:[s.cagrValue.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"D/Y"}),e.jsxs("span",{children:[s.dyValue.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"PE"}),e.jsxs("span",{children:[s.peValue.toFixed(1),"x"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Margin"}),e.jsxs("span",{children:[s.marginValue.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"ROE"}),e.jsxs("span",{children:[s.roeValue.toFixed(1),"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Cash Flow"}),e.jsx("span",{children:g})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.passedZulu&&e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-green-500/50 bg-green-500/10 px-2 py-0.5 text-xs text-green-500",children:[e.jsx(c,{className:"size-3",icon:"tabler:check"}),"Zulu Pass"]}),s.undervaluedPe&&e.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-green-500/50 bg-green-500/10 px-2 py-0.5 text-xs text-green-500",children:[e.jsx(c,{className:"size-3",icon:"tabler:check"}),"Undervalued"]}),e.jsx("span",{className:`inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-xs ${x(l)} ${o(l)}`,children:w(l)})]})]}),e.jsx(m,{className:"w-full",icon:"tabler:trash",variant:"secondary",onClick:()=>{d(j,{title:"Delete Analysis",description:`Are you sure you want to delete the analysis for ${s.ticker}?`,confirmButtonText:"Delete",onConfirm:async()=>p(s.id)})},children:"Delete"})]},s.id)})})]})}),n==="calculators"&&e.jsx("div",{className:"space-y-4",children:a.length===0?e.jsx("div",{className:"text-bg-500 py-8 text-center",children:'No calculator logs saved yet. Use the Toolbox calculators and click "Save All Calculations".'}):e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-bg-500",children:["You have ",a.length," saved calculation",a.length!==1?"s":"","."]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:a.map(s=>e.jsxs(h,{className:"flex flex-col",children:[e.jsx("div",{className:"mb-3 flex items-start justify-between",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-bold",children:s.ticker}),s.name&&e.jsx("div",{className:"text-bg-500 text-sm",children:s.name}),s.exchange&&e.jsx("div",{className:"text-custom-500 text-xs",children:s.exchange}),e.jsx("div",{className:"text-bg-500 mt-1 text-xs",children:new Date(s.date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]})}),e.jsxs("div",{className:"text-bg-500 mb-4 flex-1 space-y-1 text-sm",children:[s.cagr!==void 0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"CAGR"}),e.jsxs("span",{children:[s.cagr.toFixed(2),"%"]})]}),s.dy!==void 0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Dividend Yield"}),e.jsxs("span",{children:[s.dy.toFixed(2),"%"]})]}),s.pe!==void 0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"P/E Ratio"}),e.jsxs("span",{children:[s.pe.toFixed(2),"x"]})]}),s.margin!==void 0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Profit Margin"}),e.jsxs("span",{children:[s.margin.toFixed(2),"%"]})]}),s.roe!==void 0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"ROE"}),e.jsxs("span",{children:[s.roe.toFixed(2),"%"]})]})]}),e.jsx(m,{className:"w-full",icon:"tabler:trash",variant:"secondary",onClick:()=>{d(j,{title:"Delete Calculation",description:`Are you sure you want to delete this calculation for ${s.ticker}?`,confirmButtonText:"Delete",onConfirm:async()=>f(s.id)})},children:"Delete"})]},s.id))})]})})]})}export{$ as default};
